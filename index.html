<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
              crossorigin="anonymous">
        <title>Home</title>
        <script src="https://code.jquery.com/jquery-3.7.0.min.js"
                integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g="
                crossorigin="anonymous"></script>
        <script>
            $(document).ready(function () {

                $("#inputNroPersonajes").on('input', function (evt) {
                    // Allow only numbers.
                    $(this).val(jQuery(this).val().replace(/[^0-9]/g, ''));
                });

                $("#inputTamanoPista").on('input', function (evt) {
                    // Allow only numbers.
                    $(this).val(jQuery(this).val().replace(/[^0-9]/g, ''));
                });


                $("#IngresarPersonajes").submit(function (event) {
                    event.preventDefault();
                    let nroPersonajes = $("#inputNroPersonajes").val();
                    let tamanoPista = $("#inputTamanoPista").val();
                    if ((nroPersonajes!="") && (tamanoPista!="") ) {

                            let nroPersonajesCorrecto = nroPersonajes >= 3 && nroPersonajes <= 5;
                            let tamanoPistaCorrecto = tamanoPista >= 4 && tamanoPista <= 8;
                            if (nroPersonajesCorrecto  && tamanoPistaCorrecto ){
                                $("#InputsCorrect1").html(" <h6>YEEI</h6>");
                                $("#InputsCorrect2").append("<form id='ingresoPersonajesMenu' action='index.html' method='post'>" +
                                    "<div id='divIngresoPersonajesMenu'class='row'> </div>" +
                                    "<button type='submit' class='btn btn-primary' >  Iniciar Juego </button>" +
                                    "</form>");
                                    for (let i = 1; i <= nroPersonajes; i++) {
                                        $("#divIngresoPersonajesMenu").append(
                                            "<div style='background: #a2ff10; margin: 10px' class='col-" + nroPersonajes + " d-flex justify-content-center'> " +
                                            " <div style='width: 100%' class='row d-flex justify-content-center'> <div class='col-12 d-flex justify-content-center'> <img src='imagenes/robot.png' width='100' height='100' alt=''> </div>" +
                                            " <div class='col-6 d-flex justify-content-center'> <input type='text' class='form-control' id='nombrePersonaje" + i + "' required > </div> " +
                                            " <div class='col-6 d-flex justify-content-center'> <input type='color' class='form-control' id='color" + i + "' required > </div> " +
                                            "<div class='col-12 d-flex justify-content-center'> <input type='file' class='btn btn-success' id='personajeFoto" + i + "' required > </div> </div>"  +
                                            "</div>");
                                    }

                            } else {
                                $("#InputsError").html(" <h6>Numero de personajes o tamaño de pista incorrecto</h6>");

                            }


                    } else {
                        $("#InputsError").html("<h6>No pueden ser campos vacios</h6>");


                    }

                });
            });
        </script>



    </head>
    <body>


        <main>
            <div class="container">
                <h2> Juego de personajes movedizos </h2>

                <form action="index.html" id="IngresarPersonajes" method="post">
                    <div class="mb-3 row" style="width: 600px">
                        <label class="form-label">Ingrese el numero de personajes</label>
                        <div class="col-sm-10">
                            <input type="text" name="inputNroPersonajes" class="form-control" id="inputNroPersonajes" required >
                        </div>
                    </div>
                    <div class="mb-3 row" style="width: 600px">
                        <label class="form-label">Ingrese el tamaño de la pista (m)</label>
                        <div class="col-sm-10">
                            <input type="text" name="inputTamanoPista" class="form-control" id="inputTamanoPista" required>
                        </div>
                    </div>
                    <button type="submit" id="" class="btn btn-primary"> Ingresar personajes</button>

                </form>
                <div id="InputsError" class="h3"> </div>
                <div id="InputsCorrect1"> </div>

                <div id="InputsCorrect2" class="row"> </div>


            </div>
        </main>



        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
                crossorigin="anonymous"></script>
    </body>
</html>